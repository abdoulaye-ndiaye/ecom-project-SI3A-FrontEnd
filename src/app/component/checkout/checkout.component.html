<!-- Page Header Start -->  
<div class="container-fluid bg-secondary mb-5">  
    <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">  
        <h1 class="font-weight-semi-bold text-uppercase mb-3">Checkout</h1>  
        <div class="d-inline-flex">  
            <p class="m-0"><a href="">Home</a></p>  
            <p class="m-0 px-2">-</p>  
            <p class="m-0">Checkout</p>  
        </div>  
    </div>  
</div>  
<!-- Page Header End -->  

<!-- Checkout Start -->  
<div class="container-fluid pt-5">  
    <div class="row px-xl-5">  
        <!-- Billing Address -->  
        <div class="col-lg-8">  
            <div class="mb-4">  
                <h4 class="font-weight-semi-bold mb-4">Billing Address</h4>  
                <form [formGroup]="billingForm" (ngSubmit)="placeOrder()">
                    <div class="mb-4">
                      <div class="row">
                        <div class="col-md-6 form-group">
                          <label>First Name</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="firstName"
                            placeholder="First Name">
                          <small class="text-danger" *ngIf="billingForm.get('firstName')?.invalid && billingForm.get('firstName')?.touched">
                            First name is required and must contain only letters.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Last Name</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="lastName"
                            placeholder="Last Name">
                          <small class="text-danger" *ngIf="billingForm.get('lastName')?.invalid && billingForm.get('lastName')?.touched">
                            Last name is required and must contain only letters.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Email</label>
                          <input
                            type="email"
                            class="form-control"
                            formControlName="email"
                            placeholder="Email">
                          <small class="text-danger" *ngIf="billingForm.get('email')?.invalid && billingForm.get('email')?.touched">
                            Please enter a valid email.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Mobile</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="mobile"
                            placeholder="Mobile">
                          <small class="text-danger" *ngIf="billingForm.get('mobile')?.invalid && billingForm.get('mobile')?.touched">
                            Mobile number must be 10 digits.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Address Line 1</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="address1"
                            placeholder="Address Line 1">
                          <small class="text-danger" *ngIf="billingForm.get('address1')?.invalid && billingForm.get('address1')?.touched">
                            Address Line 1 is required.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Address Line 2</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="address2"
                            placeholder="Address Line 2">
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Country</label>
                          <select class="custom-select" formControlName="country">
                            <option [value]="''" disabled selected>Select Country</option>
                            <option *ngFor="let country of ['United States', 'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Antigua', 'france', 'germany', 'italy', 'japan', 'korea', 'mexico', 'netherlands', 'pakistan', 'qatar', 'romania', 'russia', 'saudi arabia', 'singapore', 'south korea', 'spain', 'sweden', 'switzerland', 'turkey', 'uk', 'united kingdom' ]">
                              {{ country }}
                            </option>
                          </select>
                          <small class="text-danger" *ngIf="billingForm.get('country')?.invalid && billingForm.get('country')?.touched">
                            Country is required.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>City</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="city"
                            placeholder="City">
                          <small class="text-danger" *ngIf="billingForm.get('city')?.invalid && billingForm.get('city')?.touched">
                            City is required.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>State</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="state"
                            placeholder="State">
                          <small class="text-danger" *ngIf="billingForm.get('state')?.invalid && billingForm.get('state')?.touched">
                            State is required.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>ZIP Code</label>
                          <input
                            type="text"
                            class="form-control"
                            formControlName="zip"
                            placeholder="ZIP Code">
                          <small class="text-danger" *ngIf="billingForm.get('zip')?.invalid && billingForm.get('zip')?.touched">
                            ZIP code must be 5 digits.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Password</label>
                          <input
                            type="password"
                            class="form-control"
                            formControlName="password"
                            placeholder="Password">
                          <small class="text-danger" *ngIf="billingForm.get('password')?.invalid && billingForm.get('password')?.touched">
                            Password is required and must be at least 6 characters.
                          </small>
                        </div>
                        <div class="col-md-6 form-group">
                          <label>Confirm Password</label>
                          <input
                            type="password"
                            class="form-control"
                            formControlName="confirmPassword"
                            placeholder="Confirm Password">
                          <small class="text-danger" *ngIf="billingForm.hasError('mismatch') && billingForm.get('confirmPassword')?.touched">
                            Passwords do not match.
                          </small>
                        </div>
                      </div>
                    </div>
                </form> 
            </div>  
        </div>  

        <!-- Order Summary -->  
        <div class="col-lg-4">  
            <div class="card border-secondary mb-5">  
                <div class="card-header bg-secondary border-0">  
                    <h4 class="font-weight-semi-bold m-0">Order Summary</h4>  
                </div>  
                <div class="card-body">  
                    <h5 class="font-weight-medium mb-3">Products</h5>  
                    <div class="d-flex justify-content-between" *ngFor="let item of cartItems">  
                        <p>{{ item.product.nom }} (x{{ item.quantity }})</p>  
                        <p>${{ item.product.prix * item.quantity }}</p>  
                    </div>  
                    <hr class="mt-0">  
                    <div class="d-flex justify-content-between mb-3 pt-1">  
                        <h6 class="font-weight-medium">Subtotal</h6>  
                        <h6 class="font-weight-medium">${{ subtotal }}</h6>  
                    </div>  
                    <div class="d-flex justify-content-between">  
                        <h6 class="font-weight-medium">Shipping</h6>  
                        <h6 class="font-weight-medium">${{ shipping }}</h6>  
                    </div>  
                </div>  
                <div class="card-footer border-secondary bg-transparent">  
                    <div class="d-flex justify-content-between mt-2">  
                        <h5 class="font-weight-bold">Total</h5>  
                        <h5 class="font-weight-bold">${{ subtotal + shipping }}</h5>  
                    </div>  
                    <button   
                        class="btn btn-lg btn-block btn-primary font-weight-bold my-3 py-3"   
                        [disabled]="billingForm.invalid || cartItems.length === 0"  
                        (click)="placeOrder()">  
                        Place Order  
                    </button>  
                </div>  
            </div>  

            <!-- Payment -->  
            <div class="card border-secondary mb-5">  
                <div class="card-header bg-secondary border-0">  
                    <h4 class="font-weight-semi-bold m-0">Payment</h4>  
                </div>  
                <div class="card-body">  
                    <div class="form-check" *ngFor="let method of ['Paypal', 'Direct Check', 'Bank Transfer']">  
                        <input   
                            type="radio"   
                            class="form-check-input"   
                            name="payment"   
                            [value]="method"   
                            [(ngModel)]="paymentMethod">  
                        <label class="form-check-label">{{ method }}</label>  
                    </div>  
                </div>  
            </div>  
        </div>  
    </div>  
</div>  
<!-- Checkout End -->